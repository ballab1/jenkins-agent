
env:
    BASE_TAG: '3.13.2-alpine3.21'
    CBF_VERSION: 'v3.9.10'
    CONTAINER_GIT_URL: 'https://nas.home:5001/GIT/jenkins-agent'
    CONTAINER_OS: 'alpine'
    CONTAINER_NAME: 'jenkins-agent'
    #DEBUG_TRACE: '0'
    DEV_TEAM: 'alpine'
    DOCKER_LOG_DIR: '/var/log'
    DOCKER_REGISTRY: 's2.ubuntu.home:5000/'
    OS_VERSION: '3.21.3'
    PIP_VERSION: '24.3.1'
    PYTHON_VERSION: '3.13.2'
    WORK_DIR: '/usr/local/utilities'
    HOST_IPS: "$(hostname -i)"
    USER_ID: "$(getent passwd $UID|awk '{split($0, arr, \":\"); print arr[3] \":\" arr[4]}')"
    FROM_BASE: "s2.ubuntu.home:5000/docker.io/python:${BASE_TAG:?}"
    TARGET: "${DOCKER_REGISTRY:-s2.ubuntu.home:5000/}${DEV_TEAM:-alpine}/${CONTAINER_NAME:?}/3.13.2-alpine3.21:${CONTAINER_TAG:-latest}"


# the above may also be specified using 'ini' format
# [env]
# BASE_TAG: '1.0.1'
# CBF_VERSION: 'v3.9.10'
# CONTAINER_OS: 'alpine'
# CONTAINER_NAME: 'agent'
# DEBUG_TRACE: '0'
# DEV_TEAM: 'sohoball/'
# DOCKER_LOG_DIR: '/var/log'
# DOCKER_REGISTRY: 's2.ubuntu.home:5000/'
# OS_VERSION: '3.21.3'
# PIP_VERSION: '24.3.1'
# PYTHON_VERSION: '3.13.2'
# WORK_DIR: '/usr/local/utilities'
# HOST_IPS: "$(hostname -i)"
# USER_ID: "$(getent passwd $UID|awk '{split($0, arr, \":\"); print arr[3] \":\" arr[4]}')"
# FROM_BASE: "s2.ubuntu.home:5000/alpine/:${BASE_TAG:-1.0.1}"
# TARGET: "${DOCKER_REGISTRY:-s2.ubuntu.home:5000/}${DEV_TEAM:-3.13.2-alpine3.21/}${CONTAINER_NAME:?}:${CONTAINER_TAG:-latest}"

dependencies:
    BUILD_VERSION:
      - repo:  'https://nas.home:5001/GIT/cbf_utilities'
        files:
            - 'ci/merge-pipeline.yaml'
      - repo:  'https://nas.home:5001/GIT/uspy_template_builder'
        files:
            - 'ci/unittest-pipeline.yaml'

